SELECT ID,CLR,CLSJ,CREATOR,INSTANCENAME,KSSJ,PROCESSDEFCHNAME,PROCESSDEFID,PROCESSDEFNAME,REMARK,STARTOR,STATE,XDCLSJ,LX INTO tempdb..PAGING1111 FROM
(
	SELECT * FROM 
	(
		SELECT ID,CLR,CLSJ,CREATOR,convert(varchar(500),INSTANCENAME) INSTANCENAME,KSSJ,convert(varchar(500),PROCESSDEFCHNAME) PROCESSDEFCHNAME,PROCESSDEFID,PROCESSDEFNAME,REMARK,STARTOR,STATE,XDCLSJ,'1' AS LX
		FROM T_BPM_PROCESSINST WHERE XY_BJ='Y'  AND STARTOR IN (SELECT USERBM FROM T_XT_USER U,T_XT_GROUP G WHERE U.SWJG_BM=G.SWJG_BM 
		AND U.USEDFLAG='Y' AND G.USEDFLAG='Y' AND G.SUBCODE LIKE '1%')  AND CONVERT(CHAR(10),KSSJ) >= '2015-01-01' 
		AND CONVERT(CHAR(10),KSSJ) <= '2015-11-17' 

		UNION ALL 

		SELECT ID,DCR AS CLR,'' AS CLSJ,DCR_JG AS CREATOR,convert(varchar(500),JGRW_MC) AS INSTANCENAME,'' AS KSSJ,convert(varchar(500),CHNAME) PROCESSDEFCHNAME,PROCESSID PROCESSDEFID,
		'' AS PROCESSDEFNAME,'' AS REMARK,'' AS STARTOR,(CASE WHEN YCL>0 THEN 3 ELSE 4 END) AS STATE,'' AS XDCLSJ,'2' AS LX FROM 
		(

			SELECT RW.ID,DCR,DCR_JG,RW.JGRW_MC,P.PROCESSID,DEF.CHNAME,SUM(CASE WHEN DCR=DQCLR THEN 1 ELSE 0 END) YCL
			FROM T_FX_FXZB_PXJG P,T_FX_RW RW,T_BPM_PROCESSDEF DEF WHERE P.JGRW_XH=RW.JGRW_XH AND P.PROCESSID=DEF.ID AND PG_BJ=0 
			AND TS_BJ=1 AND DCR IS NOT NULL  AND P.DCR_JG IN (SELECT SWJG_BM FROM T_XT_GROUP WHERE USEDFLAG='Y' AND SUBCODE LIKE '1%')
			AND FXZT_DM IN (1,4,3,5,43,44,99) 
			GROUP BY RW.ID,DCR,DCR_JG,RW.JGRW_MC,P.PROCESSID,DEF.CHNAME

		)  A

	)    A 

) A




PROCESSDEFCHNAME,INSTANCENAME这两个字段都是中文字符，在字符长度不想等的情况下，做select into语句会报错。解决方法：将字符串长度设置为同样大小（相同字段，取较大长度的那一个）
convert(varchar(500),INSTANCENAME)
convert(varchar(500),JGRW_MC) AS INSTANCENAME


DEF.CHNAME(500)

PROCESSDEFCHNAME(200)  改为（500）


T_BPM_PROCESSINST
T_FX_RW
